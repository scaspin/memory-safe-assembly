# Crate Scraper

Tool to measure how much  assembly is used by top crates.
Pulls pages of the top crates from crates.io, downloads each crate's source code if available, and measures lines of code of assembly in the source code and the build.
The results are saved in ```data/```.

### Usage:
```python3 tool.py \<pages\> -d```

where -d or --delete deletes crates after downloading/analyzing them to minimize memory usage


### Take aways:
In the source code:
- cc: Assembly in [tests](https://github.com/rust-lang/cc-rs/blob/main/dev-tools/cc-test/src/aarch64.S)
- ring: same as BoringSSL, similar assembly, generated by perl or for [fips](https://github.com/briansmith/ring/tree/main/crypto/fipsmodule)
- hermit-abi: assembly in wasmtime [examples](https://github.com/hermit-os/hermit-rs/tree/main/examples/wasmtime/src/arch)
- blake3: repo contains C code w/x86 assembly, not part of Rust impl
- psm: stands for "Portable Stack Manipulation" inherently unsafe
- secp256k1/secp256k1-sys: some relevant example for [inner loops](https://github.com/rust-bitcoin/rust-secp256k1/blob/master/secp256k1-sys/depend/secp256k1/src/asm/field_10x26_arm.s)
- rocksdb/librocksdb: one [file](https://github.com/facebook/rocksdb/blob/main/util/crc32c_ppc_asm.S)
